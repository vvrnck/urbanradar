(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["node_vendors~app~d71bf088"],{"128d":function(e,t,o){"use strict";o.d(t,"a",(function(){return Ee}));var i=o("55ac"),a=o("6d8b"),r=["treemapZoomToNode","treemapRender","treemapMove"];function n(e){for(var t=0;t<r.length;t++)e.registerAction({type:r[t],update:"updateView"},a["L"]);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function o(t,o){var a=["treemapZoomToNode","treemapRootToNode"],r=i["c"](e,a,t);if(r){var n=t.getViewRoot();n&&(e.direction=i["a"](n,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},o)}))}var l=o("7fae"),s=o("4f85"),d=o("06c7"),c=o("4319"),u=o("e0d3"),h=o("217c"),p=o("933c"),g=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return Object(l["a"])(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};f(o);var i=e.levels||[],r=this.designatedVisualItemStyle={},n=new c["a"]({itemStyle:r},this,t);i=e.levels=y(i,t);var l=a["H"](i||[],(function(e){return new c["a"](e,n,t)}),this),s=d["a"].createTree(o,this,u);function u(e){e.wrapMethod("getItemModel",(function(e,t){var o=s.getNodeByDataIndex(t),i=o?l[o.depth]:null;return e.parentModel=i||n,e}))}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var i=this.getData(),a=this.getRawValue(e),r=i.getName(e);return Object(h["c"])("nameValue",{name:r,value:a})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(i["d"])(a,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},a["m"](this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=a["f"](),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Object(p["a"])(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(s["b"]);function f(e){var t=0;a["k"](e.children,(function(e){f(e);var o=e.value;a["t"](o)&&(o=o[0]),t+=o}));var o=e.value;a["t"](o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),a["t"](e.value)?e.value[0]=o:e.value=o}function y(e,t){var o=Object(u["r"])(t.get("color")),i=Object(u["r"])(t.get(["aria","decal","decals"]));if(o){var r,n;e=e||[],a["k"](e,(function(e){var t=new c["a"](e),o=t.get("color"),i=t.get("decal");(t.get(["itemStyle","color"])||o&&"none"!==o)&&(r=!0),(t.get(["itemStyle","decal"])||i&&"none"!==i)&&(n=!0)}));var l=e[0]||(e[0]={});return r||(l.color=o.slice()),!n&&i&&(l.decal=i.slice()),e}}var v=g,m=o("2dc5"),b=o("c7a2"),x=o("861c"),w=o("7d6c"),I=o("80f0"),_=o("87b1"),N=o("76a5"),O=o("f934"),M=o("7837"),S=8,j=8,D=5,L=function(){function e(e){this.group=new m["a"],e.add(this.group)}return e.prototype.render=function(e,t,o,i){var a=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),a.get("show")&&o){var n=a.getModel("itemStyle"),l=a.getModel("emphasis"),s=n.getModel("textStyle"),d=l.getModel(["itemStyle","textStyle"]),c={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,c,s),this._renderContent(e,c,n,l,s,d,i),O["i"](r,c.pos,c.box)}},e.prototype._prepare=function(e,t,o){for(var i=e;i;i=i.parentNode){var a=Object(u["e"])(i.getModel().get("name"),""),r=o.getTextRect(a),n=Math.max(r.width+2*S,t.emptyItemWidth);t.totalWidth+=n+j,t.renderList.push({node:i,text:a,width:n})}},e.prototype._renderContent=function(e,t,o,i,r,n,l){for(var s=0,d=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),u=O["e"](t.pos,t.box),h=t.totalWidth,p=t.renderList,g=i.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var y=p[f],v=y.node,m=y.width,b=y.text;h>u.width&&(h-=m-d,m=d,b=null);var x=new _["a"]({shape:{points:T(s,0,m,c,f===p.length-1,0===f)},style:Object(a["i"])(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new N["a"]({style:Object(M["c"])(r,{text:b})}),textConfig:{position:"inside"},z2:1e4*w["j"],onclick:Object(a["h"])(l,v)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Object(M["c"])(n,{text:b}),x.ensureState("emphasis").style=g,Object(w["J"])(x,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(x),R(x,e,v),s+=m+j}},e.prototype.remove=function(){this.group.removeAll()},e}();function T(e,t,o,i,a,r){var n=[[a?e:e-D,t],[e+o,t],[e+o,t+i],[a?e:e-D,t+i]];return!r&&n.splice(2,0,[e+o+D,t+i/2]),!a&&n.push([e,t+i/2]),n}function R(e,t,o){Object(x["a"])(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&Object(i["d"])(o,t)}}var C=L,A=o("4a01"),V=o("9850"),P=o("1687"),k=o("e6cd"),E=o("282b"),G=o("e887"),B=o("19eb"),z=o("eda2"),W=m["a"],H=b["a"],X=3,Y="label",Z="upperLabel",U=10*w["j"],F=2*w["j"],q=3*w["j"],J=Object(E["a"])([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),K=function(e){var t=J(e);return t.stroke=t.fill=t.lineWidth=null,t},Q=Object(u["o"])(),$=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state="ready",o._storage=ee(),o}return Object(l["a"])(t,e),t.prototype.render=function(e,t,o,r){var n=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(Object(a["r"])(n,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var l=["treemapZoomToNode","treemapRootToNode"],s=i["c"](r,l,e),d=r&&r.type,c=e.layoutInfo,u=!this._oldTree,h=this._storage,p="treemapRootToNode"===d&&s&&h?{rootNodeGroup:h.nodeGroup[s.node.getRawIndex()],direction:r.direction}:null,g=this._giveContainerGroup(c),f=e.get("animation"),y=this._doRender(g,e,p);!f||u||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?y.renderFinally():this._doAnimation(g,y,e,p),this._resetController(o),this._renderBreadcrumb(e,o,s)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new W,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var i=t.getData().tree,r=this._oldTree,n=ee(),l=ee(),s=this._storage,d=[];function c(e,i,a,r){return te(t,l,s,o,n,d,e,i,a,r)}h(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var u=p(s);return this._oldTree=i,this._storage=l,{lastsForAnimation:n,willDeleteEls:u,renderFinally:g};function h(e,t,o,i,r){function n(e){return e.getId()}function l(a,n){var l=null!=a?e[a]:null,s=null!=n?t[n]:null,d=c(l,s,o,r);d&&h(l&&l.viewChildren||[],s&&s.viewChildren||[],d,i,r+1)}i?(t=e,Object(a["k"])(e,(function(e,t){!e.isRemoved()&&l(t,t)}))):new I["a"](t,e,n,n).add(l).update(l).remove(Object(a["h"])(l,null)).execute()}function p(e){var t=ee();return e&&Object(a["k"])(e,(function(e,o){var i=t[o];Object(a["k"])(e,(function(e){e&&(i.push(e),Q(e).willDelete=!0)}))})),t}function g(){Object(a["k"])(u,(function(e){Object(a["k"])(e,(function(e){e.parent&&e.parent.remove(e)}))})),Object(a["k"])(d,(function(e){e.invisible=!0,e.dirty()}))}},t.prototype._doAnimation=function(e,t,o,i){var r=o.get("animationDurationUpdate"),n=o.get("animationEasing"),l=(Object(a["w"])(r)?0:r)||0,s=(Object(a["w"])(n)?null:n)||"cubicOut",d=k["a"]();Object(a["k"])(t.willDeleteEls,(function(e,t){Object(a["k"])(e,(function(e,o){if(!e.invisible){var a,r=e.parent,n=Q(r);if(i&&"drillDown"===i.direction)a=r===i.rootNodeGroup?{shape:{x:0,y:0,width:n.nodeWidth,height:n.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,u=0;n.willDelete||(c=n.nodeWidth/2,u=n.nodeHeight/2),a="nodeGroup"===t?{x:c,y:u,style:{opacity:0}}:{shape:{x:c,y:u,width:0,height:0},style:{opacity:0}}}a&&d.add(e,a,l,0,s)}}))})),Object(a["k"])(this._storage,(function(e,o){Object(a["k"])(e,(function(e,i){var r=t.lastsForAnimation[o][i],n={};r&&(e instanceof m["a"]?null!=r.oldX&&(n.x=e.x,n.y=e.y,e.x=r.oldX,e.y=r.oldY):(r.oldShape&&(n.shape=Object(a["m"])({},e.shape),e.setShape(r.oldShape)),r.fadein?(e.setStyle("opacity",0),n.style={opacity:1}):1!==e.style.opacity&&(n.style={opacity:1})),d.add(e,n,l,0,s))}))}),this),this._state="animating",d.finished(Object(a["c"])((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||(t=this._controller=new A["a"](e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",Object(a["c"])(this._onPan,this)),t.on("zoom",Object(a["c"])(this._onZoom,this)));var o=new V["a"](0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return o.contain(t,i)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>X||Math.abs(e.dy)>X)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var a=i.getLayout();if(!a)return;var r=new V["a"](a.x,a.y,a.width,a.height),n=this.seriesModel.layoutInfo;t-=n.x,o-=n.y;var l=P["c"]();P["i"](l,l,[-t,-o]),P["h"](l,l,[e.scale,e.scale]),P["i"](l,l,[t,o]),r.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var o=t.seriesModel.get("nodeClick",!0);if(o){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var a=i.node;if(a.getLayout().isLeafRoot)t._rootToNode(i);else if("zoomToNode"===o)t._zoomToNode(i);else if("link"===o){var r=a.hostTree.data.getItemModel(a.dataIndex),n=r.get("link",!0),l=r.get("target",!0)||"blank";n&&Object(z["i"])(n,l)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,o){var a=this;o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),o||(o={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new C(this.group))).render(e,t,o.node,(function(t){"animating"!==a._state&&(i["a"](e.getViewRoot(),t)?a._rootToNode({node:t}):a._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ee(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},(function(i){var a=this._storage.background[i.getRawIndex()];if(a){var r=a.transformCoordToLocal(e,t),n=a.shape;if(!(n.x<=r[0]&&r[0]<=n.x+n.width&&n.y<=r[1]&&r[1]<=n.y+n.height))return!1;o={node:i,offsetX:r[0],offsetY:r[1]}}}),this),o},t.type="treemap",t}(G["a"]);function ee(){return{nodeGroup:[],background:[],content:[]}}function te(e,t,o,i,r,n,l,s,d,c){if(l){var h=l.getLayout(),p=e.getData(),g=l.getModel();if(p.setItemGraphicEl(l.dataIndex,null),h&&h.isInView){var f=h.width,y=h.height,v=h.borderWidth,b=h.invisible,I=l.getRawIndex(),_=s&&s.getRawIndex(),N=l.viewChildren,O=h.upperHeight,S=N&&N.length,j=g.getModel("itemStyle"),D=g.getModel(["emphasis","itemStyle"]),L=g.getModel(["blur","itemStyle"]),T=g.getModel(["select","itemStyle"]),R=j.get("borderRadius")||0,C=ie("nodeGroup",W);if(C){if(d.add(C),C.x=h.x||0,C.y=h.y||0,C.markRedraw(),Q(C).nodeWidth=f,Q(C).nodeHeight=y,h.isAboveViewRoot)return C;var A=ie("background",H,c,F);A&&X(C,A,S&&h.upperLabelHeight);var V=g.getModel("emphasis"),P=V.get("focus"),k=V.get("blurScope"),E=V.get("disabled"),G="ancestor"===P?l.getAncestorsIndices():"descendant"===P?l.getDescendantIndices():P;if(S)Object(w["y"])(C)&&Object(w["F"])(C,!1),A&&(Object(w["F"])(A,!E),p.setItemGraphicEl(l.dataIndex,A),Object(w["p"])(A,G,k));else{var z=ie("content",H,c,q);z&&U(C,z),A.disableMorphing=!0,A&&Object(w["y"])(A)&&Object(w["F"])(A,!1),Object(w["F"])(C,!E),p.setItemGraphicEl(l.dataIndex,C),Object(w["p"])(C,G,k)}return C}}}function X(t,o,i){var a=Object(x["a"])(o);if(a.dataIndex=l.dataIndex,a.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:f,height:y,r:R}),b)$(o);else{o.invisible=!1;var r=l.getVisual("style"),n=r.stroke,s=K(j);s.fill=n;var d=J(D);d.fill=D.get("borderColor");var c=J(L);c.fill=L.get("borderColor");var u=J(T);if(u.fill=T.get("borderColor"),i){var h=f-2*v;ee(o,n,r.opacity,{x:v,y:0,width:h,height:O})}else o.removeTextContent();o.setStyle(s),o.ensureState("emphasis").style=d,o.ensureState("blur").style=c,o.ensureState("select").style=u,Object(w["G"])(o)}t.add(o)}function U(t,o){var i=Object(x["a"])(o);i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex;var a=Math.max(f-2*v,0),r=Math.max(y-2*v,0);if(o.culling=!0,o.setShape({x:v,y:v,width:a,height:r,r:R}),b)$(o);else{o.invisible=!1;var n=l.getVisual("style"),s=n.fill,d=K(j);d.fill=s,d.decal=n.decal;var c=J(D),u=J(L),h=J(T);ee(o,s,n.opacity,null),o.setStyle(d),o.ensureState("emphasis").style=c,o.ensureState("blur").style=u,o.ensureState("select").style=h,Object(w["G"])(o)}t.add(o)}function $(e){!e.invisible&&n.push(e)}function ee(t,o,i,r){var n=g.getModel(r?Z:Y),s=Object(u["e"])(g.get("name"),null),d=n.getShallow("show");Object(M["g"])(t,Object(M["e"])(g,r?Z:Y),{defaultText:d?s:null,inheritColor:o,defaultOpacity:i,labelFetcher:e,labelDataIndex:l.dataIndex});var c=t.getTextContent();if(c){var p=c.style,f=Object(a["M"])(p.padding||0);r&&(t.setTextConfig({layoutRect:r}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var e=Math.max((r?r.width:t.shape.width)-f[1]-f[3],0),o=Math.max((r?r.height:t.shape.height)-f[0]-f[2],0);p.width===e&&p.height===o||c.setStyle({width:e,height:o})},p.truncateMinChar=2,p.lineOverflow="truncate",te(p,r,h);var y=c.getState("emphasis");te(y?y.style:null,r,h)}}function te(t,o,i){var a=t?t.text:null;if(!o&&i.isLeafRoot&&null!=a){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+a:a}}function ie(e,i,a,n){var l=null!=_&&o[e][_],s=r[e];return l?(o[e][_]=null,ae(s,l)):b||(l=new i,l instanceof B["c"]&&(l.z2=oe(a,n)),re(s,l)),t[e][I]=l}function ae(e,t){var o=e[I]={};t instanceof W?(o.oldX=t.x,o.oldY=t.y):o.oldShape=Object(a["m"])({},t.shape)}function re(e,t){var o=e[I]={},a=l.parentNode,n=t instanceof m["a"];if(a&&(!i||"drillDown"===i.direction)){var s=0,d=0,c=r.background[a.getRawIndex()];!i&&c&&c.oldShape&&(s=c.oldShape.width,d=c.oldShape.height),n?(o.oldX=0,o.oldY=d):o.oldShape={x:s,y:d,width:0,height:0}}o.fadein=!n}}function oe(e,t){return e*U+t}var ie=$,ae=o("5f14"),re=o("41ef"),ne="itemStyle",le=Object(u["o"])(),se={seriesType:"treemap",reset:function(e){var t=e.getData().tree,o=t.root;o.isRemoved()||de(o,{},e.getViewRoot().getAncestors(),e)}};function de(e,t,o,i){var r=e.getModel(),n=e.getLayout(),l=e.hostTree.data;if(n&&!n.invisible&&n.isInView){var s,d=r.getModel(ne),c=ce(d,t,i),u=l.ensureUniqueItemVisual(e.dataIndex,"style"),h=d.get("borderColor"),p=d.get("borderColorSaturation");null!=p&&(s=ue(c),h=he(p,s)),u.stroke=h;var g=e.viewChildren;if(g&&g.length){var f=ge(e,r,n,d,c,g);Object(a["k"])(g,(function(e,t){if(e.depth>=o.length||e===o[e.depth]){var a=ye(r,c,e,t,f,i);de(e,a,o,i)}}))}else s=ue(c),u.fill=s}}function ce(e,t,o){var i=Object(a["m"])({},t),r=o.designatedVisualItemStyle;return Object(a["k"])(["color","colorAlpha","colorSaturation"],(function(o){r[o]=t[o];var a=e.get(o);r[o]=null,null!=a&&(i[o]=a)})),i}function ue(e){var t=pe(e,"color");if(t){var o=pe(e,"colorAlpha"),i=pe(e,"colorSaturation");return i&&(t=Object(re["f"])(t,null,null,i)),o&&(t=Object(re["e"])(t,o)),t}}function he(e,t){return null!=t?Object(re["f"])(t,null,null,e):null}function pe(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function ge(e,t,o,i,a,r){if(r&&r.length){var n=fe(t,"color")||null!=a.color&&"none"!==a.color&&(fe(t,"colorAlpha")||fe(t,"colorSaturation"));if(n){var l=t.get("visualMin"),s=t.get("visualMax"),d=o.dataExtent.slice();null!=l&&l<d[0]&&(d[0]=l),null!=s&&s>d[1]&&(d[1]=s);var c=t.get("colorMappingBy"),u={type:n.name,dataExtent:d,visual:n.range};"color"!==u.type||"index"!==c&&"id"!==c?u.mappingMethod="linear":(u.mappingMethod="category",u.loop=!0);var h=new ae["a"](u);return le(h).drColorMappingBy=c,h}}}function fe(e,t){var o=e.get(t);return Object(a["t"])(o)&&o.length?{name:t,range:o}:null}function ye(e,t,o,i,r,n){var l=Object(a["m"])({},t);if(r){var s=r.type,d="color"===s&&le(r).drColorMappingBy,c="index"===d?i:"id"===d?n.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));l[s]=r.mapValueToVisual(c)}return l}var ve=o("3842"),me=Math.max,be=Math.min,xe=a["O"],we=a["k"],Ie=["itemStyle","borderWidth"],_e=["itemStyle","gapWidth"],Ne=["upperLabel","show"],Oe=["upperLabel","height"],Me={seriesType:"treemap",reset:function(e,t,o,r){var n=o.getWidth(),l=o.getHeight(),s=e.option,d=O["g"](e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),c=s.size||[],u=Object(ve["o"])(xe(d.width,c[0]),n),h=Object(ve["o"])(xe(d.height,c[1]),l),p=r&&r.type,g=["treemapZoomToNode","treemapRootToNode"],f=i["c"](r,g,e),y="treemapRender"===p||"treemapMove"===p?r.rootRect:null,v=e.getViewRoot(),m=i["b"](v);if("treemapMove"!==p){var b="treemapZoomToNode"===p?Ae(e,f,v,u,h):y?[y.width,y.height]:[u,h],x=s.sort;x&&"asc"!==x&&"desc"!==x&&(x="desc");var w={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};v.hostTree.clearLayouts();var I={x:0,y:0,width:b[0],height:b[1],area:b[0]*b[1]};v.setLayout(I),Se(v,w,!1,0),I=v.getLayout(),we(m,(function(e,t){var o=(m[t+1]||v).getValue();e.setLayout(a["m"]({dataExtent:[o,o],borderWidth:0,upperHeight:0},I))}))}var _=e.getData().tree.root;_.setLayout(Ve(d,y,f),!0),e.setLayoutInfo(d),Pe(_,new V["a"](-d.x,-d.y,n,l),m,v,0)}};function Se(e,t,o,i){var a,r;if(!e.isRemoved()){var n=e.getLayout();a=n.width,r=n.height;var l=e.getModel(),s=l.get(Ie),d=l.get(_e)/2,c=ke(l),u=Math.max(s,c),h=s-d,p=u-d;e.setLayout({borderWidth:s,upperHeight:u,upperLabelHeight:c},!0),a=me(a-2*h,0),r=me(r-h-p,0);var g=a*r,f=je(e,l,g,t,o,i);if(f.length){var y={x:h,y:p,width:a,height:r},v=be(a,r),m=1/0,b=[];b.area=0;for(var x=0,w=f.length;x<w;){var I=f[x];b.push(I),b.area+=I.getLayout().area;var _=Re(b,v,t.squareRatio);_<=m?(x++,m=_):(b.area-=b.pop().getLayout().area,Ce(b,v,y,d,!1),v=be(y.width,y.height),b.length=b.area=0,m=1/0)}if(b.length&&Ce(b,v,y,d,!0),!o){var N=l.get("childrenVisibleMin");null!=N&&g<N&&(o=!0)}for(x=0,w=f.length;x<w;x++)Se(f[x],t,o,i+1)}}}function je(e,t,o,i,r,n){var l=e.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var d=null!=i.leafDepth&&i.leafDepth<=n;if(r&&!d)return e.viewChildren=[];l=a["n"](l,(function(e){return!e.isRemoved()})),Le(l,s);var c=Te(t,l,s);if(0===c.sum)return e.viewChildren=[];if(c.sum=De(t,o,c.sum,s,l),0===c.sum)return e.viewChildren=[];for(var u=0,h=l.length;u<h;u++){var p=l[u].getValue()/c.sum*o;l[u].setLayout({area:p})}return d&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:c.dataExtent},!0),l}function De(e,t,o,i,a){if(!i)return o;for(var r=e.get("visibleMin"),n=a.length,l=n,s=n-1;s>=0;s--){var d=a["asc"===i?n-s-1:s].getValue();d/o*t<r&&(l=s,o-=d)}return"asc"===i?a.splice(0,n-l):a.splice(l,n-l),o}function Le(e,t){return t&&e.sort((function(e,o){var i="asc"===t?e.getValue()-o.getValue():o.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:i})),e}function Te(e,t,o){for(var i=0,a=0,r=t.length;a<r;a++)i+=t[a].getValue();var n,l=e.get("visualDimension");return t&&t.length?"value"===l&&o?(n=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&n.reverse()):(n=[1/0,-1/0],we(t,(function(e){var t=e.getValue(l);t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}))):n=[NaN,NaN],{sum:i,dataExtent:n}}function Re(e,t,o){for(var i=0,a=1/0,r=0,n=void 0,l=e.length;r<l;r++)n=e[r].getLayout().area,n&&(n<a&&(a=n),n>i&&(i=n));var s=e.area*e.area,d=t*t*o;return s?me(d*i/s,s/(d*a)):1/0}function Ce(e,t,o,i,a){var r=t===o.width?0:1,n=1-r,l=["x","y"],s=["width","height"],d=o[l[r]],c=t?e.area/t:0;(a||c>o[s[n]])&&(c=o[s[n]]);for(var u=0,h=e.length;u<h;u++){var p=e[u],g={},f=c?p.getLayout().area/c:0,y=g[s[n]]=me(c-2*i,0),v=o[l[r]]+o[s[r]]-d,m=u===h-1||v<f?v:f,b=g[s[r]]=me(m-2*i,0);g[l[n]]=o[l[n]]+be(i,y/2),g[l[r]]=d+be(i,b/2),d+=m,p.setLayout(g,!0)}o[l[n]]+=c,o[s[n]]-=c}function Ae(e,t,o,i,a){var r,n=(t||{}).node,l=[i,a];if(!n||n===o)return l;var s=i*a,d=s*e.option.zoomToNodeRatio;while(r=n.parentNode){for(var c=0,u=r.children,h=0,p=u.length;h<p;h++)c+=u[h].getValue();var g=n.getValue();if(0===g)return l;d*=c/g;var f=r.getModel(),y=f.get(Ie),v=Math.max(y,ke(f));d+=4*y*y+(3*y+v)*Math.pow(d,.5),d>ve["a"]&&(d=ve["a"]),n=r}d<s&&(d=s);var m=Math.pow(d/s,.5);return[i*m,a*m]}function Ve(e,t,o){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!o)return i;var a=o.node,r=a.getLayout();if(!r)return i;var n=[r.width/2,r.height/2],l=a;while(l){var s=l.getLayout();n[0]+=s.x,n[1]+=s.y,l=l.parentNode}return{x:e.width/2-n[0],y:e.height/2-n[1]}}function Pe(e,t,o,i,a){var r=e.getLayout(),n=o[a],l=n&&n===e;if(!(n&&!l||a===o.length&&e!==i)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(r),isAboveViewRoot:l},!0);var s=new V["a"](t.x-r.x,t.y-r.y,t.width,t.height);we(e.viewChildren||[],(function(e){Pe(e,s,o,i,a+1)}))}}function ke(e){return e.get(Ne)?e.get(Oe):0}function Ee(e){e.registerSeriesModel(v),e.registerChartView(ie),e.registerVisual(se),e.registerLayout(Me),n(e)}},"54ca":function(e,t,o){"use strict";o.d(t,"a",(function(){return ae}));var i=o("7fae"),a=o("6d8b"),r=o("2dc5"),n=o("deca"),l=o("ac0f"),s=o("861c"),d=o("1418"),c=o("f934");function u(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var o,i,a=[t];while(o=a.pop())if(i=o.children,o.isExpand&&i.length)for(var r=i.length,n=r-1;n>=0;n--){var l=i[n];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:n,thread:null},a.push(l)}}function h(e,t){var o=e.isExpand?e.children:[],i=e.parentNode.children,a=e.hierNode.i?i[e.hierNode.i-1]:null;if(o.length){v(e);var r=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;a?(e.hierNode.prelim=a.hierNode.prelim+t(e,a),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else a&&(e.hierNode.prelim=a.hierNode.prelim+t(e,a));e.parentNode.hierNode.defaultAncestor=m(e,a,e.parentNode.hierNode.defaultAncestor||i[0],t)}function p(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function g(e){return arguments.length?e:_}function f(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function y(e,t){return c["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function v(e){var t=e.children,o=t.length,i=0,a=0;while(--o>=0){var r=t[o];r.hierNode.prelim+=i,r.hierNode.modifier+=i,a+=r.hierNode.change,i+=r.hierNode.shift+a}}function m(e,t,o,i){if(t){var a=e,r=e,n=r.parentNode.children[0],l=t,s=a.hierNode.modifier,d=r.hierNode.modifier,c=n.hierNode.modifier,u=l.hierNode.modifier;while(l=b(l),r=x(r),l&&r){a=b(a),n=x(n),a.hierNode.ancestor=e;var h=l.hierNode.prelim+u-r.hierNode.prelim-d+i(l,r);h>0&&(I(w(l,e,o),e,h),d+=h,s+=h),u+=l.hierNode.modifier,d+=r.hierNode.modifier,s+=a.hierNode.modifier,c+=n.hierNode.modifier}l&&!b(a)&&(a.hierNode.thread=l,a.hierNode.modifier+=u-s),r&&!x(n)&&(n.hierNode.thread=r,n.hierNode.modifier+=d-c,o=e)}return o}function b(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function x(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function w(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function I(e,t,o){var i=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=i}function _(e,t){return e.parentNode===t.parentNode?1:2}var N=o("e263"),O=o("6cc5"),M=o("01ef"),S=o("4a01"),j=o("c526"),D=o("3842"),L=o("e887"),T=o("cbe5"),R=o("7d6c"),C=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),A=function(e){function t(t){return e.call(this,t)||this}return Object(i["a"])(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C},t.prototype.buildPath=function(e,t){var o=t.childPoints,i=o.length,a=t.parentPoint,r=o[0],n=o[i-1];if(1===i)return e.moveTo(a[0],a[1]),void e.lineTo(r[0],r[1]);var l=t.orient,s="TB"===l||"BT"===l?0:1,d=1-s,c=Object(D["o"])(t.forkPosition,1),u=[];u[s]=a[s],u[d]=a[d]+(n[d]-a[d])*c,e.moveTo(a[0],a[1]),e.lineTo(u[0],u[1]),e.moveTo(r[0],r[1]),u[s]=r[s],e.lineTo(u[0],u[1]),u[s]=n[s],e.lineTo(u[0],u[1]),e.lineTo(n[0],n[1]);for(var h=1;h<i-1;h++){var p=o[h];e.moveTo(p[0],p[1]),u[s]=p[s],e.lineTo(u[0],u[1])}},t}(T["b"]),V=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new r["a"],o}return Object(i["a"])(t,e),t.prototype.init=function(e,t){this._controller=new S["a"](t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var i=e.getData(),a=e.layoutInfo,r=this._mainGroup,n=e.get("layout");"radial"===n?(r.x=a.x+a.width/2,r.y=a.y+a.height/2):(r.x=a.x,r.y=a.y),this._updateViewCoordSys(e,o),this._updateController(e,t,o);var l=this._data;i.diff(l).add((function(t){P(i,t)&&k(i,t,null,r,e)})).update((function(t,o){var a=l.getItemGraphicEl(o);P(i,t)?k(i,t,a,r,e):a&&z(l,o,a,r,e)})).remove((function(t){var o=l.getItemGraphicEl(t);o&&z(l,t,o,r,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=i},t.prototype._updateViewCoordSys=function(e,t){var o=e.getData(),i=[];o.each((function(e){var t=o.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])}));var a=[],r=[];N["d"](i,a,r);var n=this._min,l=this._max;r[0]-a[0]===0&&(a[0]=n?n[0]:a[0]-1,r[0]=l?l[0]:r[0]+1),r[1]-a[1]===0&&(a[1]=n?n[1]:a[1]-1,r[1]=l?l[1]:r[1]+1);var s=e.coordinateSystem=new O["a"];s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(a[0],a[1],r[0]-a[0],r[1]-a[1]),s.setCenter(e.get("center"),t),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=a,this._max=r},t.prototype._updateController=function(e,t,o){var i=this,a=this._controller,r=this._controllerHost,n=this.group;a.setPointerChecker((function(t,i,a){var r=n.getBoundingRect();return r.applyTransform(n.transform),r.contain(i,a)&&!Object(j["a"])(t,o,e)})),a.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",(function(t){M["a"](r,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){M["b"](r,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(e),o.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),o=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(o)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,i=t.scaleX||1,a=t.getZoom(),r=(a-1)*o+1;return r/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(L["a"]);function P(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)}function k(e,t,o,i,r){var l=!o,c=e.tree.getNodeByDataIndex(t),u=c.getModel(),h=c.getVisual("style").fill,p=!1===c.isExpand&&0!==c.children.length?h:"#fff",g=e.tree.root,f=c.parentNode===g?c:c.parentNode||c,y=e.getItemGraphicEl(f.dataIndex),v=f.getLayout(),m=y?{x:y.__oldX,y:y.__oldY,rawX:y.__radialOldRawX,rawY:y.__radialOldRawY}:v,b=c.getLayout();l?(o=new d["a"](e,t,null,{symbolInnerColor:p,useNameLabel:!0}),o.x=m.x,o.y=m.y):o.updateData(e,t,null,{symbolInnerColor:p,useNameLabel:!0}),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=b.rawX,o.__radialRawY=b.rawY,i.add(o),e.setItemGraphicEl(t,o),o.__oldX=o.x,o.__oldY=o.y,n["h"](o,{x:b.x,y:b.y},r);var x=o.getSymbolPath();if("radial"===r.get("layout")){var w=g.children[0],I=w.getLayout(),_=w.children.length,N=void 0,O=void 0;if(b.x===I.x&&!0===c.isExpand&&w.children.length){var M={x:(w.children[0].getLayout().x+w.children[_-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[_-1].getLayout().y)/2};N=Math.atan2(M.y-I.y,M.x-I.x),N<0&&(N=2*Math.PI+N),O=M.x<I.x,O&&(N-=Math.PI)}else N=Math.atan2(b.y-I.y,b.x-I.x),N<0&&(N=2*Math.PI+N),0===c.children.length||0!==c.children.length&&!1===c.isExpand?(O=b.x<I.x,O&&(N-=Math.PI)):(O=b.x>I.x,O||(N-=Math.PI));var S=O?"left":"right",j=u.getModel("label"),D=j.get("rotate"),L=D*(Math.PI/180),T=x.getTextContent();T&&(x.setTextConfig({position:j.get("position")||S,rotation:null==D?-N:L,origin:"center"}),T.setStyle("verticalAlign","middle"))}var C=u.get(["emphasis","focus"]),A="relative"===C?a["e"](c.getAncestorsIndices(),c.getDescendantIndices()):"ancestor"===C?c.getAncestorsIndices():"descendant"===C?c.getDescendantIndices():null;A&&(Object(s["a"])(o).focus=A),E(r,c,g,o,m,v,b,i),o.__edge&&(o.onHoverStateChange=function(t){if("blur"!==t){var i=c.parentNode&&e.getItemGraphicEl(c.parentNode.dataIndex);i&&i.hoverState===R["d"]||Object(R["H"])(o.__edge,t)}})}function E(e,t,o,i,r,s,d,c){var u=t.getModel(),h=e.get("edgeShape"),p=e.get("layout"),g=e.getOrient(),f=e.get(["lineStyle","curveness"]),y=e.get("edgeForkPosition"),v=u.getModel("lineStyle").getLineStyle(),m=i.__edge;if("curve"===h)t.parentNode&&t.parentNode!==o&&(m||(m=i.__edge=new l["a"]({shape:W(p,g,f,r,r)})),n["h"](m,{shape:W(p,g,f,s,d)},e));else if("polyline"===h)if("orthogonal"===p){if(t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var b=t.children,x=[],w=0;w<b.length;w++){var I=b[w].getLayout();x.push([I.x,I.y])}m||(m=i.__edge=new A({shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]],orient:g,forkPosition:y}})),n["h"](m,{shape:{parentPoint:[d.x,d.y],childPoints:x}},e)}}else 0;m&&("polyline"!==h||t.isExpand)&&(m.useStyle(a["i"]({strokeNoScale:!0,fill:null},v)),Object(R["I"])(m,u,"lineStyle"),Object(R["G"])(m),c.add(m))}function G(e,t,o,i,a){var r=t.tree.root,l=B(r,e),s=l.source,d=l.sourceLayout,c=t.getItemGraphicEl(e.dataIndex);if(c){var u=t.getItemGraphicEl(s.dataIndex),h=u.__edge,p=c.__edge||(!1===s.isExpand||1===s.children.length?h:void 0),g=i.get("edgeShape"),f=i.get("layout"),y=i.get("orient"),v=i.get(["lineStyle","curveness"]);p&&("curve"===g?n["e"](p,{shape:W(f,y,v,d,d),style:{opacity:0}},i,{cb:function(){o.remove(p)},removeOpt:a}):"polyline"===g&&"orthogonal"===i.get("layout")&&n["e"](p,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},i,{cb:function(){o.remove(p)},removeOpt:a}))}}function B(e,t){var o,i=t.parentNode===e?t:t.parentNode||t;while(o=i.getLayout(),null==o)i=i.parentNode===e?i:i.parentNode||i;return{source:i,sourceLayout:o}}function z(e,t,o,i,a){var r=e.tree.getNodeByDataIndex(t),l=e.tree.root,s=B(l,r).sourceLayout,d={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};n["e"](o,{x:s.x+1,y:s.y+1},a,{cb:function(){i.remove(o),e.setItemGraphicEl(t,null)},removeOpt:d}),o.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:d}),r.children.forEach((function(t){G(t,e,i,a,d)})),G(r,e,i,a,d)}function W(e,t,o,i,a){var r,n,l,s,d,c,u,h;if("radial"===e){d=i.rawX,u=i.rawY,c=a.rawX,h=a.rawY;var p=f(d,u),g=f(d,u+(h-u)*o),y=f(c,h+(u-h)*o),v=f(c,h);return{x1:p.x||0,y1:p.y||0,x2:v.x||0,y2:v.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}return d=i.x,u=i.y,c=a.x,h=a.y,"LR"!==t&&"RL"!==t||(r=d+(c-d)*o,n=u,l=c+(d-c)*o,s=h),"TB"!==t&&"BT"!==t||(r=d,n=u+(h-u)*o,l=c,s=h+(u-h)*o),{x1:d,y1:u,x2:c,y2:h,cpx1:r,cpy1:n,cpx2:l,cpy2:s}}var H=V,X=o("4f85"),Y=o("06c7"),Z=o("4319"),U=o("217c"),F=o("55ac"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Object(i["a"])(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},o=e.leaves||{},i=new Z["a"](o,this,this.ecModel),a=Y["a"].createTree(t,this,r);function r(e){e.wrapMethod("getItemModel",(function(e,t){var o=a.getNodeByDataIndex(t);return o&&o.children.length&&o.isExpand||(e.parentModel=i),e}))}var n=0;a.eachNode("preorder",(function(e){e.depth>n&&(n=e.depth)}));var l=e.expandAndCollapse,s=l&&e.initialTreeDepth>=0?e.initialTreeDepth:n;return a.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=s})),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,o){var i=this.getData().tree,a=i.root.children[0],r=i.getNodeByDataIndex(e),n=r.getValue(),l=r.name;while(r&&r!==a)l=r.parentNode.name+"."+l,r=r.parentNode;return Object(U["c"])("nameValue",{name:l,value:n,noValue:isNaN(n)||null==n})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(F["d"])(i,this),o.collapsed=!i.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(X["b"]),J=q;function K(e,t,o){var i,a=[e],r=[];while(i=a.pop())if(r.push(i),i.isExpand){var n=i.children;if(n.length)for(var l=0;l<n.length;l++)a.push(n[l])}while(i=r.pop())t(i,o)}function Q(e,t){var o,i=[e];while(o=i.pop())if(t(o),o.isExpand){var a=o.children;if(a.length)for(var r=a.length-1;r>=0;r--)i.push(a[r])}}function $(e,t){e.eachSeriesByType("tree",(function(e){ee(e,t)}))}function ee(e,t){var o=y(e,t);e.layoutInfo=o;var i=e.get("layout"),a=0,r=0,n=null;"radial"===i?(a=2*Math.PI,r=Math.min(o.height,o.width)/2,n=g((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(a=o.width,r=o.height,n=g());var l=e.getData().tree.root,s=l.children[0];if(s){u(l),K(s,h,n),l.hierNode.modifier=-s.hierNode.prelim,Q(s,p);var d=s,c=s,v=s;Q(s,(function(e){var t=e.getLayout().x;t<d.getLayout().x&&(d=e),t>c.getLayout().x&&(c=e),e.depth>v.depth&&(v=e)}));var m=d===c?1:n(d,c)/2,b=m-d.getLayout().x,x=0,w=0,I=0,_=0;if("radial"===i)x=a/(c.getLayout().x+m+b),w=r/(v.depth-1||1),Q(s,(function(e){I=(e.getLayout().x+b)*x,_=(e.depth-1)*w;var t=f(I,_);e.setLayout({x:t.x,y:t.y,rawX:I,rawY:_},!0)}));else{var N=e.getOrient();"RL"===N||"LR"===N?(w=r/(c.getLayout().x+m+b),x=a/(v.depth-1||1),Q(s,(function(e){_=(e.getLayout().x+b)*w,I="LR"===N?(e.depth-1)*x:a-(e.depth-1)*x,e.setLayout({x:I,y:_},!0)}))):"TB"!==N&&"BT"!==N||(x=a/(c.getLayout().x+m+b),w=r/(v.depth-1||1),Q(s,(function(e){I=(e.getLayout().x+b)*x,_="TB"===N?(e.depth-1)*w:r-(e.depth-1)*w,e.setLayout({x:I,y:_},!0)})))}}}function te(e){e.eachSeriesByType("tree",(function(e){var t=e.getData(),o=t.tree;o.eachNode((function(e){var o=e.getModel(),i=o.getModel("itemStyle").getItemStyle(),r=t.ensureUniqueItemVisual(e.dataIndex,"style");Object(a["m"])(r,i)}))}))}var oe=o("d81e");function ie(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=e.dataIndex,i=t.getData().tree,a=i.getNodeByDataIndex(o);a.isExpand=!a.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,o){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=t.coordinateSystem,a=Object(oe["a"])(i,e,void 0,o);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom)}))}))}function ae(e){e.registerChartView(H),e.registerSeriesModel(J),e.registerLayout($),e.registerVisual(te),ie(e)}},"8acb":function(e,t,o){"use strict";o.d(t,"a",(function(){return W}));var i=o("7fae"),a=o("6d8b"),r=o("e887"),n=o("76a5"),l=o("deca"),s=o("4aa2"),d=o("7d6c"),c=o("7837"),u=o("861c"),h=o("d32f"),p=o("b3c1"),g=2,f=4,y=function(e){function t(t,o,i,a){var r=e.call(this)||this;r.z2=g,r.textConfig={inside:!0},Object(u["a"])(r).seriesIndex=o.seriesIndex;var l=new n["a"]({z2:f,silent:t.getModel().get(["label","silent"])});return r.setTextContent(l),r.updateData(!0,t,o,i,a),r}return Object(i["a"])(t,e),t.prototype.updateData=function(e,t,o,i,r){this.node=t,t.piece=this,o=o||this._seriesModel,i=i||this._ecModel;var n=this;Object(u["a"])(n).dataIndex=t.dataIndex;var s=t.getModel(),c=s.getModel("emphasis"),g=t.getLayout(),f=a["m"]({},g);f.label=null;var y=t.getVisual("style");y.lineJoin="bevel";var v=t.getVisual("decal");v&&(y.decal=Object(p["a"])(v,r));var m=Object(h["a"])(s.getModel("itemStyle"),f,!0);a["m"](f,m),a["k"](d["g"],(function(e){var t=n.ensureState(e),o=s.getModel([e,"itemStyle"]);t.style=o.getItemStyle();var i=Object(h["a"])(o,f);i&&(t.shape=i)})),e?(n.setShape(f),n.shape.r=g.r0,l["h"](n,{shape:{r:g.r}},o,t.dataIndex)):(l["h"](n,{shape:f},o),Object(l["g"])(n)),n.useStyle(y),this._updateLabel(o);var b=s.getShallow("cursor");b&&n.attr("cursor",b),this._seriesModel=o||this._seriesModel,this._ecModel=i||this._ecModel;var x=c.get("focus"),w="ancestor"===x?t.getAncestorsIndices():"descendant"===x?t.getDescendantIndices():x;Object(d["J"])(this,w,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,o=this.node.getModel(),i=o.getModel("label"),r=this.node.getLayout(),n=r.endAngle-r.startAngle,l=(r.startAngle+r.endAngle)/2,s=Math.cos(l),u=Math.sin(l),h=this,p=h.getTextContent(),g=this.node.dataIndex,f=i.get("minAngle")/180*Math.PI,y=i.get("show")&&!(null!=f&&Math.abs(n)<f);function v(e,t){var o=e.get(t);return null==o?i.get(t):o}p.ignore=!y,a["k"](d["a"],(function(i){var d="normal"===i?o.getModel("label"):o.getModel([i,"label"]),f="normal"===i,y=f?p:p.ensureState(i),m=e.getFormattedLabel(g,i);f&&(m=m||t.node.name),y.style=Object(c["c"])(d,{},null,"normal"!==i,!0),m&&(y.style.text=m);var b=d.get("show");null==b||f||(y.ignore=!b);var x,w=v(d,"position"),I=f?h:h.states[i],_=I.style.fill;I.textConfig={outsideFill:"inherit"===d.get("color")?_:null,inside:"outside"!==w};var N=v(d,"distance")||0,O=v(d,"align");"outside"===w?(x=r.r+N,O=l>Math.PI/2?"right":"left"):O&&"center"!==O?"left"===O?(x=r.r0+N,l>Math.PI/2&&(O="right")):"right"===O&&(x=r.r-N,l>Math.PI/2&&(O="left")):(x=n===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,O="center"),y.style.align=O,y.style.verticalAlign=v(d,"verticalAlign")||"middle",y.x=x*s+r.cx,y.y=x*u+r.cy;var M=v(d,"rotate"),S=0;"radial"===M?(S=-l,S<-Math.PI/2&&(S+=Math.PI)):"tangential"===M?(S=Math.PI/2-l,S>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI)):a["z"](M)&&(S=M*Math.PI/180),y.rotation=S})),p.dirtyStyle()},t}(s["a"]),v=y,m=o("80f0"),b=o("55ac"),x="sunburstRootToNode",w="sunburstHighlight",I="sunburstUnhighlight";function _(e){e.registerAction({type:x,update:"updateView"},(function(e,t){function o(t,o){var i=Object(b["c"])(e,[x],t);if(i){var a=t.getViewRoot();a&&(e.direction=Object(b["a"])(a,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},o)})),e.registerAction({type:w,update:"none"},(function(e,t,o){function i(t){var o=Object(b["c"])(e,[w],t);o&&(e.dataIndex=o.node.dataIndex)}e=Object(a["m"])({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i),o.dispatchAction(Object(a["m"])(e,{type:"highlight"}))})),e.registerAction({type:I,update:"updateView"},(function(e,t,o){e=Object(a["m"])({},e),o.dispatchAction(Object(a["m"])(e,{type:"downplay"}))}))}var N=o("eda2"),O=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(i["a"])(t,e),t.prototype.render=function(e,t,o,i){var r=this;this.seriesModel=e,this.api=o,this.ecModel=t;var n=e.getData(),l=n.tree.root,s=e.getViewRoot(),d=this.group,c=e.get("renderLabelForZeroData"),u=[];s.eachNode((function(e){u.push(e)}));var h=this._oldChildren||[];function p(e,t){function o(e){return e.getId()}function i(o,i){var a=null==o?null:e[o],r=null==i?null:t[i];g(a,r)}0===e.length&&0===t.length||new m["a"](t,e,o,o).add(i).update(i).remove(a["h"](i,null)).execute()}function g(i,a){if(c||!i||i.getValue()||(i=null),i!==l&&a!==l)if(a&&a.piece)i?(a.piece.updateData(!1,i,e,t,o),n.setItemGraphicEl(i.dataIndex,a.piece)):f(a);else if(i){var r=new v(i,e,t,o);d.add(r),n.setItemGraphicEl(i.dataIndex,r)}}function f(e){e&&e.piece&&(d.remove(e.piece),e.piece=null)}function y(i,a){a.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,e,t,o):(r.virtualPiece=new v(i,e,t,o),d.add(r.virtualPiece)),a.piece.off("click"),r.virtualPiece.on("click",(function(e){r._rootToNode(a.parentNode)}))):r.virtualPiece&&(d.remove(r.virtualPiece),r.virtualPiece=null)}p(u,h),y(l,s),this._initEvents(),this._oldChildren=u},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var o=!1,i=e.seriesModel.getViewRoot();i.eachNode((function(i){if(!o&&i.piece&&i.piece===t.target){var a=i.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(i);else if("link"===a){var r=i.getModel(),n=r.get("link");if(n){var l=r.get("target",!0)||"_blank";Object(N["i"])(n,l)}}o=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:x,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var o=t.getData(),i=o.getItemLayout(0);if(i){var a=e[0]-i.cx,r=e[1]-i.cy,n=Math.sqrt(a*a+r*r);return n<=i.r&&n>=i.r0}},t.type="sunburst",t}(r["a"]),M=O,S=o("4f85"),j=o("06c7"),D=o("4319"),L=o("933c"),T=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.ignoreStyleOnData=!0,o}return Object(i["a"])(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};R(o);var i=this._levelModels=a["H"](e.levels||[],(function(e){return new D["a"](e,this,t)}),this),r=j["a"].createTree(o,this,n);function n(e){e.wrapMethod("getItemModel",(function(e,t){var o=r.getNodeByDataIndex(t),a=i[o.depth];return a&&(e.parentModel=a),e}))}return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return o.treePathInfo=Object(b["d"])(i,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Object(L["a"])(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(S["b"]);function R(e){var t=0;a["k"](e.children,(function(e){R(e);var o=e.value;a["t"](o)&&(o=o[0]),t+=o}));var o=e.value;a["t"](o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),a["t"](e.value)?e.value[0]=o:e.value=o}var C=T,A=o("3842"),V=Math.PI/180;function P(e,t,o){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=e.get("radius");a["t"](i)||(i=[0,i]),a["t"](t)||(t=[t,t]);var r=o.getWidth(),n=o.getHeight(),l=Math.min(r,n),s=Object(A["o"])(t[0],r),d=Object(A["o"])(t[1],n),c=Object(A["o"])(i[0],l/2),u=Object(A["o"])(i[1],l/2),h=-e.get("startAngle")*V,p=e.get("minAngle")*V,g=e.getData().tree.root,f=e.getViewRoot(),y=f.depth,v=e.get("sort");null!=v&&k(f,v);var m=0;a["k"](f.children,(function(e){!isNaN(e.getValue())&&m++}));var b=f.getValue(),x=Math.PI/(b||m)*2,w=f.depth>0,I=f.height-(w?-1:1),_=(u-c)/(I||1),N=e.get("clockwise"),O=e.get("stillShowZeroSum"),M=N?1:-1,S=function(t,o){if(t){var i=o;if(t!==g){var r=t.getValue(),n=0===b&&O?x:r*x;n<p&&(n=p),i=o+M*n;var u=t.depth-y-(w?-1:1),h=c+_*u,f=c+_*(u+1),v=e.getLevelModel(t);if(v){var m=v.get("r0",!0),I=v.get("r",!0),j=v.get("radius",!0);null!=j&&(m=j[0],I=j[1]),null!=m&&(h=Object(A["o"])(m,l/2)),null!=I&&(f=Object(A["o"])(I,l/2))}t.setLayout({angle:n,startAngle:o,endAngle:i,clockwise:N,cx:s,cy:d,r0:h,r:f})}if(t.children&&t.children.length){var D=0;a["k"](t.children,(function(e){D+=S(e,o+D)}))}return i-o}};if(w){var j=c,D=c+_,L=2*Math.PI;g.setLayout({angle:L,startAngle:h,endAngle:h+L,clockwise:N,cx:s,cy:d,r0:j,r:D})}S(f,h)}))}function k(e,t){var o=e.children||[];e.children=E(o,t),o.length&&a["k"](e.children,(function(e){k(e,t)}))}function E(e,t){if(a["w"](t)){var o=a["H"](e,(function(e,t){var o=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return o}},index:t}}));return o.sort((function(e,o){return t(e.params,o.params)})),a["H"](o,(function(t){return e[t.index]}))}var i="asc"===t;return e.sort((function(e,t){var o=(e.getValue()-t.getValue())*(i?1:-1);return 0===o?(e.dataIndex-t.dataIndex)*(i?-1:1):o}))}var G=o("41ef");function B(e){var t={};function o(e,o,i){var r=e;while(r&&r.depth>1)r=r.parentNode;var n=o.getColorFromPalette(r.name||r.dataIndex+"",t);return e.depth>1&&Object(a["C"])(n)&&(n=Object(G["c"])(n,(e.depth-1)/(i-1)*.5)),n}e.eachSeriesByType("sunburst",(function(e){var t=e.getData(),i=t.tree;i.eachNode((function(r){var n=r.getModel(),l=n.getModel("itemStyle").getItemStyle();l.fill||(l.fill=o(r,e,i.root.height));var s=t.ensureUniqueItemVisual(r.dataIndex,"style");Object(a["m"])(s,l)}))}))}var z=o("d3f4");function W(e){e.registerChartView(M),e.registerSeriesModel(C),e.registerLayout(Object(a["h"])(P,"sunburst")),e.registerProcessor(Object(a["h"])(z["a"],"sunburst")),e.registerVisual(B),_(e)}},acf6:function(e,t,o){"use strict";o.d(t,"a",(function(){return y}));var i=o("22b4"),a=o("7fae"),r=o("1830"),n=o("4f85"),l=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return Object(a["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(r["a"])(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,o){return o.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(n["b"]),s=l,d=o("f706"),c=o("c965"),u=o("87c3"),h=o("e887"),p=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(a["a"])(t,e),t.prototype.render=function(e,t,o){var i=e.getData(),a=this._updateSymbolDraw(i,e);a.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,o){var i=e.getData(),a=this._updateSymbolDraw(i,e);a.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,o){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,o){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var a=Object(u["a"])("").reset(e,t,o);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,o=t&&t.getArea&&t.getArea();return e.get("clip",!0)?o:null},t.prototype._updateSymbolDraw=function(e,t){var o=this._symbolDraw,i=t.pipelineContext,a=i.large;return o&&a===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=a?new c["a"]:new d["a"],this._isLargeDraw=a,this.group.removeAll()),this.group.add(o.group),o},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(h["a"]),g=p,f=o("8702");function y(e){Object(i["a"])(f["a"]),e.registerSeriesModel(s),e.registerChartView(g),e.registerLayout(Object(u["a"])("scatter"))}},c835:function(e,t,o){"use strict";o.d(t,"a",(function(){return T}));var i=o("7fae"),a=o("d4d1"),r=o("2dc5"),n=o("deca"),l=o("c7a2"),s=o("7d6c"),d=o("7837"),c=o("6d8b"),u=o("80f0"),h=o("e887"),p=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._layers=[],o}return Object(i["a"])(t,e),t.prototype.render=function(e,t,o){var i=e.getData(),l=this,h=this.group,p=e.getLayerSeries(),f=i.getLayout("layoutInfo"),y=f.rect,v=f.boundaryGap;function m(e){return e.name}h.x=0,h.y=y.y+v[0];var b=new u["a"](this._layersSeries||[],p,m,m),x=[];function w(t,o,c){var u=l._layers;if("remove"!==t){for(var f,y,v=[],m=[],b=p[o].indices,w=0;w<b.length;w++){var I=i.getItemLayout(b[w]),_=I.x,N=I.y0,O=I.y;v.push(_,N),m.push(_,N+O),f=i.getItemVisual(b[w],"style")}var M=i.getItemLayout(b[0]),S=e.getModel("label"),j=S.get("margin"),D=e.getModel("emphasis");if("add"===t){var L=x[o]=new r["a"];y=new a["a"]({shape:{points:v,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),L.add(y),h.add(L),e.isAnimationEnabled()&&y.setClipPath(g(y.getBoundingRect(),e,(function(){y.removeClipPath()})))}else{L=u[c];y=L.childAt(0),h.add(L),x[o]=L,n["h"](y,{shape:{points:v,stackedOnPoints:m}},e),Object(n["g"])(y)}Object(d["g"])(y,Object(d["e"])(e),{labelDataIndex:b[w-1],defaultText:i.getName(b[w-1]),inheritColor:f.fill},{normal:{verticalAlign:"middle"}}),y.setTextConfig({position:null,local:!0});var T=y.getTextContent();T&&(T.x=M.x-j,T.y=M.y0+M.y/2),y.useStyle(f),i.setItemGraphicEl(o,y),Object(s["I"])(y,e),Object(s["J"])(y,D.get("focus"),D.get("blurScope"),D.get("disabled"))}else h.remove(u[o])}b.add(Object(c["c"])(w,this,"add")).update(Object(c["c"])(w,this,"update")).remove(Object(c["c"])(w,this,"remove")).execute(),this._layersSeries=p,this._layers=x},t.type="themeRiver",t}(h["a"]);function g(e,t,o){var i=new l["a"]({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return n["c"](i,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,o),i}var f=p,y=o("4f85"),v=o("b1d4"),m=o("2f45"),b=o("b682"),x=o("e0d3"),w=o("c4a3"),I=o("217c"),_=2,N=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(i["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new w["a"](c["c"](this.getData,this),c["c"](this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,o={},i=Object(x["j"])(e,(function(e){return o.hasOwnProperty(e[0]+"")||(o[e[0]+""]=-1),e[2]})),a=[];i.buckets.each((function(e,t){a.push({name:t,dataList:e})}));for(var r=a.length,n=0;n<r;++n){for(var l=a[n].name,s=0;s<a[n].dataList.length;++s){var d=a[n].dataList[s][0]+"";o[d]=n}for(var d in o)o.hasOwnProperty(d)&&o[d]!==n&&(o[d]=n,e[t]=[d,0,l],t++)}return e},t.prototype.getInitialData=function(e,t){for(var o=this.getReferringComponents("singleAxis",x["b"]).models[0],i=o.get("type"),a=c["n"](e.data,(function(e){return void 0!==e[2]})),r=this.fixData(a||[]),n=[],l=this.nameMap=c["f"](),s=0,d=0;d<r.length;++d)n.push(r[d][_]),l.get(r[d][_])||(l.set(r[d][_],s),s++);var u=Object(v["a"])(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Object(m["a"])(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new b["a"](u,this);return h.initData(r),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),o=[],i=0;i<t;++i)o[i]=i;var a=e.mapDimension("single"),r=Object(x["j"])(o,(function(t){return e.get("name",t)})),n=[];return r.buckets.each((function(t,o){t.sort((function(t,o){return e.get(a,t)-e.get(a,o)})),n.push({name:o,indices:t})})),n},t.prototype.getAxisTooltipData=function(e,t,o){c["t"](e)||(e=e?[e]:[]);for(var i,a=this.getData(),r=this.getLayerSeries(),n=[],l=r.length,s=0;s<l;++s){for(var d=Number.MAX_VALUE,u=-1,h=r[s].indices.length,p=0;p<h;++p){var g=a.get(e[0],r[s].indices[p]),f=Math.abs(g-t);f<=d&&(i=g,d=f,u=r[s].indices[p])}n.push(u)}return{dataIndices:n,nestestValue:i}},t.prototype.formatTooltip=function(e,t,o){var i=this.getData(),a=i.getName(e),r=i.get(i.mapDimension("value"),e);return Object(I["c"])("nameValue",{name:a,value:r})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(y["b"]),O=N,M=o("3842");function S(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),o=e.coordinateSystem,i={},a=o.getRect();i.rect=a;var r=e.get("boundaryGap"),n=o.getAxis();if(i.boundaryGap=r,"horizontal"===n.orient){r[0]=M["o"](r[0],a.height),r[1]=M["o"](r[1],a.height);var l=a.height-r[0]-r[1];j(t,e,l)}else{r[0]=M["o"](r[0],a.width),r[1]=M["o"](r[1],a.width);var s=a.width-r[0]-r[1];j(t,e,s)}t.setLayout("layoutInfo",i)}))}function j(e,t,o){if(e.count())for(var i,a=t.coordinateSystem,r=t.getLayerSeries(),n=e.mapDimension("single"),l=e.mapDimension("value"),s=c["H"](r,(function(t){return c["H"](t.indices,(function(t){var o=a.dataToPoint(e.get(n,t));return o[1]=e.get(l,t),o}))})),d=D(s),u=d.y0,h=o/d.max,p=r.length,g=r[0].indices.length,f=0;f<g;++f){i=u[f]*h,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:s[0][f][0],y0:i,y:s[0][f][1]*h});for(var y=1;y<p;++y)i+=s[y-1][f][1]*h,e.setItemLayout(r[y].indices[f],{layerIndex:y,x:s[y][f][0],y0:i,y:s[y][f][1]*h})}}function D(e){for(var t=e.length,o=e[0].length,i=[],a=[],r=0,n=0;n<o;++n){for(var l=0,s=0;s<t;++s)l+=e[s][n][1];l>r&&(r=l),i.push(l)}for(var d=0;d<o;++d)a[d]=(r-i[d])/2;r=0;for(var c=0;c<o;++c){var u=i[c]+a[c];u>r&&(r=u)}return{y0:a,max:r}}var L=o("d3f4");function T(e){e.registerChartView(f),e.registerSeriesModel(O),e.registerLayout(S),e.registerProcessor(Object(L["a"])("themeRiver"))}}}]);